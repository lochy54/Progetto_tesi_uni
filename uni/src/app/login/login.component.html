<div class="main-login-container">
    <div [className]="switchLogin()? 'left-open-container' : 'left-close-container'">
        @if(!switchLogin()){
            <span (click)="switchLogin.set(true)" class="material-symbols-outlined switchLogin">
                how_to_reg
                </span>
        }@else {
            <h2>Register</h2>
            <form [formGroup]="registerForm">
                
                <div class="input-container">
                    <label for="username">Username</label>
                    <input type="text" id="username" formControlName="username" placeholder="Enter your username" />
                    @if(registerForm.get('username')?.invalid && registerForm.get('username')?.touched){
                    @if(registerForm.get('username')?.hasError('required')){
                    <small>username is required</small>
                    }
                    @if(registerForm.get('username')?.hasError('minlength')){
                    <small>min lenght 3</small>
                    }
                    @if(loginForm.get('username')?.hasError('maxlength')){
                        <small>max lenght 20</small>
                    }
                    }
                </div>
    
                <div class="input-container">
                    <label for="password">Password</label>
                    <input type="password" id="password" formControlName="password" placeholder="Enter your password" />
                    @if(registerForm.get('password')?.invalid && registerForm.get('password')?.touched){
                    @if(registerForm.get('password')?.hasError('required')){
                    <small>password is required</small>
                    }
                    @if(registerForm.get('password')?.hasError('minlength')){
                    <small>min lenght 6</small>
                    }
                    }
                </div>

                <div class="input-container">
                    <label for="nome">Name</label>
                    <input type="text" id="nome" formControlName="nome" placeholder="Enter your name" />
                    @if(registerForm.get('nome')?.invalid && registerForm.get('nome')?.touched){
                    @if(registerForm.get('nome')?.hasError('nome')){
                    <small>name is required</small>
                    }
                    }
                </div>
    
                <div class="input-container">
                    <label for="cognome">Surname</label>
                    <input type="text" id="cognome" formControlName="cognome" placeholder="Enter your surname" />
                    @if(registerForm.get('cognome')?.invalid && registerForm.get('cognome')?.touched){
                    @if(registerForm.get('cognome')?.hasError('cognome')){
                    <small>surname is required</small>
                    }
                    }
                </div>

                <div class="input-container">
                    <label for="age">Age</label>
                    <input type="number" id="age" formControlName="age" placeholder="Enter your age" />
                    @if(registerForm.get('age')?.invalid && registerForm.get('age')?.touched){
                    @if(registerForm.get('age')?.hasError('required')){
                    <small>age is required</small>
                    }
                    @if(registerForm.get('age')?.hasError('min')){
                    <small>min si 0</small>
                    }
                    }
                </div>
                
                <div class="input-container">
                    <label for="cf">CF</label>
                    <input type="text" id="cf" formControlName="cf" placeholder="Enter your cf" />
                    @if(registerForm.get('cf')?.invalid && registerForm.get('cf')?.touched){
                        @if(registerForm.get('cf')?.hasError('required')){
                            <small>cf is required</small>
                            }
                            @if(registerForm.get('cf')?.hasError('minlength')){
                            <small>lenght 16</small>
                            }
                            @if(loginForm.get('cf')?.hasError('maxlength')){
                                <small>lenght 16</small>
                            }
                    }
                </div>


                <div class="input-container">
                    <button  [disabled]="registerForm.invalid">Register</button>
                </div>
            </form>
        }

    </div>
    <div [className]="switchLogin()? 'right-close-container' : 'right-open-container'">
        @if(!switchLogin()){
        <h2>Login</h2>
        <form [formGroup]="loginForm">
            <div class="input-container">
                <label for="username">Username</label>
                <input type="text" id="username" formControlName="username" placeholder="Enter your username" />
                @if(loginForm.get('username')?.invalid && loginForm.get('username')?.touched){
                @if(loginForm.get('username')?.hasError('required')){
                <small>username is required</small>
                }
                @if(loginForm.get('username')?.hasError('minlength')){
                <small>min lenght 3</small>
                }
                @if(loginForm.get('username')?.hasError('maxlength')){
                    <small>max lenght 20</small>
                }
                }
            </div>

            <div class="input-container">
                <label for="password">Password</label>
                <input type="password" id="password" formControlName="password" placeholder="Enter your password" />
                @if(loginForm.get('password')?.invalid && loginForm.get('password')?.touched){
                @if(loginForm.get('password')?.hasError('required')){
                <small>password is required</small>
                }
                @if(loginForm.get('password')?.hasError('minlength')){
                <small>min lenght 6</small>
                }
                }
            </div>

            <div class="input-container">
                <button  [disabled]="loginForm.invalid" >Login</button>
            </div>
        </form>
        }@else {
            <span class="material-symbols-outlined switchLogin"
            (click)="switchLogin.set(false)">
                login
                </span>
        }
    </div>
</div>